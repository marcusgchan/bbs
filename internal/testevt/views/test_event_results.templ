package testevt;

import "github.com/marcusgchan/bbs/internal/sview"

type TestEvtPlayerRes struct {
	ID            string
	Name          string
	DiedTo        string
	WavesSurvived string
}

type TestEvtResProps struct {
	TestEvtID   string
	Difficulty  string
	Environment string
	StartedAt   string
	EndedAt     string
	Duration    string
	MoneyEarned string
}

type TestEvtTemplateRes struct {
	ID    string
	Owner string
	Data  string
}

templ TestEvtResPage(evtRes TestEvtResProps, template TestEvtTemplateRes, playerRes []TestEvtPlayerRes) {
	@sview.Base() {
		@TestEvtResContent(evtRes, template, playerRes)
	}
}

templ TestEvtResContent(evtRes TestEvtResProps, template TestEvtTemplateRes, playerRes []TestEvtPlayerRes) {
	<h1 class="text-xl">Test Event Results</h1>
	<div class="flex gap-4">
		<div>
			<h2>Test Event ID: { evtRes.TestEvtID }</h2>
			<h2>Difficulty: { evtRes.Difficulty }</h2>
			<h2>Environment: { evtRes.Environment }</h2>
			<h2>Started At: { evtRes.StartedAt }</h2>
			<h2>Ended At: { evtRes.EndedAt }</h2>
			<h2>Duration: { evtRes.Duration }</h2>
			<h2>Money Earned: { evtRes.MoneyEarned }</h2>
		</div>
		<div>
			<h2>Template ID: { template.ID }</h2>
			<h2>Owner: { template.Owner }</h2>
			<h2>Data: { template.Data }</h2>
		</div>
	</div>
	<ul>
		for _, player := range playerRes {
			<li>
				<h2>Player ID: { player.ID }</h2>
				<h2>Name: { player.Name }</h2>
				<h2>Died To: { player.DiedTo }</h2>
				<h2>Wave Died: { player.WavesSurvived }</h2>
			</li>
		}
	</ul>
}
